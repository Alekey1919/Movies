{"ast":null,"code":"import { useState, useEffect } from \"react\";\nimport genreNames from \"./genres.json\"; // This json contains the actual names of the genre_ids.\n\nimport { useDispatch } from \"react-redux\";\n\nconst useExpandedMovieItemF = (movie, handleCloseModal) => {\n  const handleClose = e => {\n    // Checking if the user clicked outside the modal to close it.\n    if (e.target.classList[1] === \"modal-container\") {\n      handleCloseModal();\n    }\n  };\n\n  const [genres, setGenres] = useState([]);\n  useEffect(() => {\n    // This code transforms the genre_ids from the movie to their actual name.\n    let innerGenres = [];\n    movie.genre_ids.map(genre => genreNames.forEach(genreName => {\n      if (genreName.id === genre) {\n        innerGenres.push(genreName.name);\n      }\n    }));\n    setGenres(innerGenres);\n  }, [movie.genre_ids]);\n  const dispatch = useDispatch();\n\n  const addToList = () => {\n    dispatch({\n      type: \"ADD_MOVIE_TO_LIST\",\n      payload: \"Hola\"\n    });\n  };\n\n  return {\n    handleClose,\n    genres,\n    addToList\n  };\n};\n\nexport default useExpandedMovieItemF;","map":{"version":3,"sources":["F:/Alekey/Programming/react/movies/src/components/expandedMovieItem/useExpandedMovieItem.js"],"names":["useState","useEffect","genreNames","useDispatch","useExpandedMovieItemF","movie","handleCloseModal","handleClose","e","target","classList","genres","setGenres","innerGenres","genre_ids","map","genre","forEach","genreName","id","push","name","dispatch","addToList","type","payload"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,UAAP,MAAuB,eAAvB,C,CAAwC;;AACxC,SAASC,WAAT,QAA4B,aAA5B;;AAEA,MAAMC,qBAAqB,GAAG,CAACC,KAAD,EAAQC,gBAAR,KAA6B;AACzD,QAAMC,WAAW,GAAIC,CAAD,IAAO;AACzB;AACA,QAAIA,CAAC,CAACC,MAAF,CAASC,SAAT,CAAmB,CAAnB,MAA0B,iBAA9B,EAAiD;AAC/CJ,MAAAA,gBAAgB;AACjB;AACF,GALD;;AAOA,QAAM,CAACK,MAAD,EAASC,SAAT,IAAsBZ,QAAQ,CAAC,EAAD,CAApC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd;AACA,QAAIY,WAAW,GAAG,EAAlB;AACAR,IAAAA,KAAK,CAACS,SAAN,CAAgBC,GAAhB,CAAqBC,KAAD,IAClBd,UAAU,CAACe,OAAX,CAAoBC,SAAD,IAAe;AAChC,UAAIA,SAAS,CAACC,EAAV,KAAiBH,KAArB,EAA4B;AAC1BH,QAAAA,WAAW,CAACO,IAAZ,CAAiBF,SAAS,CAACG,IAA3B;AACD;AACF,KAJD,CADF;AAOAT,IAAAA,SAAS,CAACC,WAAD,CAAT;AACD,GAXQ,EAWN,CAACR,KAAK,CAACS,SAAP,CAXM,CAAT;AAaA,QAAMQ,QAAQ,GAAGnB,WAAW,EAA5B;;AAEA,QAAMoB,SAAS,GAAG,MAAM;AACtBD,IAAAA,QAAQ,CAAC;AAAEE,MAAAA,IAAI,EAAE,mBAAR;AAA6BC,MAAAA,OAAO,EAAE;AAAtC,KAAD,CAAR;AACD,GAFD;;AAIA,SAAO;AAAElB,IAAAA,WAAF;AAAeI,IAAAA,MAAf;AAAuBY,IAAAA;AAAvB,GAAP;AACD,CA9BD;;AAgCA,eAAenB,qBAAf","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport genreNames from \"./genres.json\"; // This json contains the actual names of the genre_ids.\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst useExpandedMovieItemF = (movie, handleCloseModal) => {\r\n  const handleClose = (e) => {\r\n    // Checking if the user clicked outside the modal to close it.\r\n    if (e.target.classList[1] === \"modal-container\") {\r\n      handleCloseModal();\r\n    }\r\n  };\r\n\r\n  const [genres, setGenres] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // This code transforms the genre_ids from the movie to their actual name.\r\n    let innerGenres = [];\r\n    movie.genre_ids.map((genre) =>\r\n      genreNames.forEach((genreName) => {\r\n        if (genreName.id === genre) {\r\n          innerGenres.push(genreName.name);\r\n        }\r\n      })\r\n    );\r\n    setGenres(innerGenres);\r\n  }, [movie.genre_ids]);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const addToList = () => {\r\n    dispatch({ type: \"ADD_MOVIE_TO_LIST\", payload: \"Hola\" });\r\n  };\r\n\r\n  return { handleClose, genres, addToList };\r\n};\r\n\r\nexport default useExpandedMovieItemF;\r\n"]},"metadata":{},"sourceType":"module"}